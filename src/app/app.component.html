<div class="pad-top"></div>

<!-- <app-title [parent]="this" #titleChild class="title"></app-title> -->

<button *ngIf="mapUrls.length > 1" class="fab" mat-fab color="primary" (click)="nextMapMode()">
  <mat-icon>donut_small</mat-icon>
</button>

<mat-drawer-container class="example-container" autosize>

  <mat-drawer #drawer class="sidenav-fixed" mode="side" position="end">
    <app-star-info
      *ngIf = "drawerMode === 1"
      [stars]="activeStars"
      [territories]="territories"
      [polities]="polities"
      [npcs]="npcs"
      [parent]="this">
    </app-star-info>
    <app-polity-info
      *ngIf = "drawerMode === 2"
      [polityInfo]="activePolity"
      [territories]="territories"
      [parent]="this">
    </app-polity-info>
  </mat-drawer>

  <pan-zoom [hidden]="!hasLoaded" [config]="panZoomConfig">
    <div style="position: relative;">
      <img src="{{mapUrls[mapIndex]}}" width="{{mapWidth}}" height="{{mapHeight}}" usemap="#starmap">    
      <map name="starmap">
        <area *ngFor="let star of surveyStars" shape="circle" coords="{{star.x}}, {{star.y}}, {{star.radius}}" (mouseover)="hoverStar(star)" (mouseleave)="unhoverStar()">
        <!-- <area shape="rect" coords="0,0,{{mapWidth}},{{mapHeight}}" (click)="closeDrawer()"> -->
      </map>
      <img *ngFor="let star of surveyStars" class="hoverImage" src="{{star.imageLink}}" [ngStyle]="hoverImageStyleObject(star)" (mouseover)="hoverStar(star)" (mouseleave)="unhoverStar()">
      <div
        class="highlight"
        [ngStyle]="highlightDimensionsCss">
      </div>
  </div>
  </pan-zoom>
  
</mat-drawer-container>
